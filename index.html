<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- favicon -->
        <link href="images/favicon.ico" rel="shortcut icon">
        <title>St. Anthony's School | Doranda, Ranchi</title>

        <!--fonts-->
        <link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond:300i,400,400i" rel="stylesheet">

        <!-- CSS Stylesheets -->
        <link href="css/normalize.css" rel="stylesheet">
        <link href="jquery-ui-1.11.4/jquery-ui.min.css" rel="stylesheet">
        <link href="css/animate.css" rel="stylesheet">
        <link href="css/jquery.fullPage.css" rel="stylesheet">
        <link href="css/style.css" rel="stylesheet">

    </head>
    <body>
    <div id="fullpage">
        <div class="page-load-screen section active" id="section0">
            <img src="images/logo-color-raster-500x500.png" alt="school logo" class="img-responsive school-logo animated flipInY">
            <img src="images/landing-page-blurred.jpg" alt="blurred image of the school" class="img-responsive blurred-school-pic">
            <a href="#Page2">
                <img src="images/down-arrow.png" alt="down arrow for navigation" class="img-responsive down-arrow animated slideInDown">
            </a>
            <div class="ring_add"></div>
            <div class="ring_add2"></div>
        </div>

        <div class="page-one section" id="section1">
            <img src="images/page-1-hero-image.jpg" alt="school's image" class="page-one-pic">

            <div id="slideshow">
                <img src="images/Capture2.jpg" alt="school pic" class="mySlides">
                <img src="images/Capture.jpg" alt="school pic" class="mySlides">
                <img src="images/Capture3.jpg" alt="school pic" class="mySlides">
                <img src="images/page-1-hero-image.jpg" alt="school's image" class="mySlides">

            </div>

            <img src="images/school-name.png" alt="school name and est year" class="img-responsive school-name animated slideInDown">
            <img src="images/logo-color-raster-500x500.png" alt="school logo" class="img-responsive school-logo2 animated flipInY">
            <a href="#lastpage">
                <img data-anchor="Page3" src="images/down-arrow.png" alt="down arrow for navigation" class="img-responsive down-arrow-page-one animated
            slideInDown">
            </a>
            <div class="add_ring"></div>
            <div class="add_ring2"></div>
        </div>

        <div class="section" id="section2">
            <img src="images/logo-color-vector-500x500.svg" alt="school logo" class="offscreen-logo">
            <div class="group">
                <div class="left">
                    <img src="images/the_principal.jpg" alt="school principal" class="principal-pic">
                </div>
                <div class="right">
                    <p class="text">
                        "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt
                        ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                        laboris nisi ut aliquip ex ea commodo consequat."
                        <br><br>
                        -The Principal
                    </p>
                </div>

            </div>

        </div>

    </div>

        <!-- Javascript files -->
        <script src="js/jquery-3.0.0.min.js"></script>
        <script src="jquery-ui-1.11.4/jquery-ui.min.js"></script>
        <script src="js/jquery.fullPage.min.js"></script>
        <script>
            //loops through images and applies kenburns effect
            function slideEffect(){
                //apply fx class to first element
                document.getElementById('slideshow').getElementsByTagName('img')[0].className = "fx";
                //loop kenburns effect every 6 seconds
                window.setInterval(kenBurns, 6000);
                //gets all images under slideshow
                var images = document.getElementById('slideshow').getElementsByTagName('img'),
                        numberOfImages  = images.length,
                        i= 1;

                function kenBurns() {
                    //applies class fx appropriately
                    if(i==numberOfImages){ i = 0;}
                    images[i].className = "fx";
                    if(i===0){ images[numberOfImages-2].className = "";}
                    if(i===1){ images[numberOfImages-1].className = "";}
                    if(i>1){ images[i-2].className = "";}
                    i++;
                    if (i == 2) {
                        $('.page-one-pic').hide();
                    }

                }
            };

            //hide the later sections for smooth animations
            //$('#fullpage #section1 #section2 .page-one-pic').css('visibility','hidden');

            $(window).on('load', function() {
                //whenever the page is refreshed it reaches the landing page
                window.location.hash = '#Page1';
            });

            $('#section1').hide();
            $('#section2').hide();

            $(document).ready(function(){
                //variable for animation ends for all vendors required for callback function
                var animationEnd = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend';

                $('#fullpage').fullpage({
                    //names for the anchors of the pages
                    anchors:['Page1','Page2','lastpage'],

                    afterLoad : function(anchorLink,index) {
                        //after loading a section, perform these functions

                        if (index == 1 || anchorLink == 'Page1'){
                            //show the other sections now that the page has loaded
                            $('#section1').show();
                            $('#section2').show();

                        }
                        if (index == 2 || anchorLink == 'Page2'){
                            if (window.innerWidth < 480) {
                                $('.school-logo2').addClass('come-in');
                            }
                            $('.school-name').addClass('come-in');
                            $('.down-arrow-page-one').addClass('come-down').one(animationEnd,function(){
                                $('.add_ring').addClass('ring');
                                $('.add_ring2').addClass('ring ring2');
                                slideEffect();
                            });

                            $.fn.fullpage.setAllowScrolling(false,'up');
                            $.fn.fullpage.setKeyboardScrolling(false, 'up');
                        }

                        if(index == 3 || anchorLink == 'lastpage'){
                            var opacity = 0.2;
                            $('.offscreen-logo').addClass('come-in-logo').one(animationEnd,function(){
                                $('.right .text').addClass('animated fadeInUp');
                                $('.left .principal-pic').addClass('animated fadeInDown');
                            });
                            $.fn.fullpage.setAllowScrolling(true,'up');
                            $.fn.fullpage.setKeyboardScrolling(true, 'up');
                        }
                    }

                });

                //animation on landing page
                $(".school-logo").fadeIn(1000);
                $(".blurred-school-pic").delay(500).fadeIn(2000);
                $(".down-arrow").delay(1000).fadeIn().one(animationEnd,function(){
                    $('.ring_add').addClass('ring');
                    $('.ring_add2').addClass('ring ring2');
                });

            });

        </script>

    </body>
</html>
